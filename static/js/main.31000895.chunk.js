(this["webpackJsonprancid-tomatillos"]=this["webpackJsonprancid-tomatillos"]||[]).push([[0],{26:function(e,t,s){},27:function(e,t,s){},28:function(e,t,s){},29:function(e,t,s){},35:function(e,t,s){},36:function(e,t,s){"use strict";s.r(t);var n=s(0),c=s(1),a=s(19),i=s.n(a),r=s(7),o=(s(26),s(9)),l=s(10),h=s(12),u=s(11),j=s(2),d=(s(27),s(28),s(29),function(e){return Object(n.jsx)(r.b,{to:"/movies/".concat(e.id),children:Object(n.jsxs)("section",{title:e.title,className:"card",children:[Object(n.jsx)("img",{className:"card-image",src:e.posterPath,alt:"card-img"}),Object(n.jsx)("h2",{children:e.title}),Object(n.jsxs)("p",{children:["Average Rating: ",(10*e.averageRating).toFixed(0),"%"]}),Object(n.jsxs)("p",{children:["Released: ",e.releaseDate]})]})})}),m=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).handleChange=function(t){e.setState({searchInput:t.target.value,moviesResults:e.state.movies})},e.formatSearchInput=function(){var t=e.state.searchInput.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)},e.handleSubmit=function(t){t.preventDefault();var s=e.formatSearchInput(),n=e.state.movies.filter((function(e){return e.title.includes(s)}));n.length?e.setState({movieResults:n}):alert("No results match this search"),e.setState({searchInput:""})},e.resetSearch=function(t){e.setState({movieResults:e.state.movies})},e.state={movies:[],movieResults:[],searchInput:"",error:null},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies").then((function(e){return e.json()})).then((function(t){return e.setState({movies:t.movies})})).catch((function(t){return e.setState({error:t.message})}))}},{key:"createMovieCards",value:function(e){return e.map((function(e){return Object(n.jsx)(d,{id:e.id,posterPath:e.poster_path,backdropPath:e.backdrop_path,title:e.title,averageRating:e.average_rating,releaseDate:e.release_date},e.id)}))}},{key:"render",value:function(){var e;return e=this.state.movieResults.length?this.createMovieCards(this.state.movieResults):this.createMovieCards(this.state.movies),Object(n.jsxs)("section",{children:[Object(n.jsx)("section",{className:"search-bar",children:Object(n.jsxs)("div",{className:"tb",children:[Object(n.jsx)("div",{className:"td",children:Object(n.jsx)("input",{type:"text",placeholder:"Search",value:this.state.searchInput,onChange:this.handleChange,required:!0})}),Object(n.jsx)("div",{className:"td",id:"s-cover",children:Object(n.jsxs)("button",{className:"button",title:"submit",onClick:this.handleSubmit,children:[Object(n.jsx)("div",{id:"s-circle"}),Object(n.jsx)("span",{})]})})]})}),Object(n.jsxs)("section",{className:"search-details",children:[Object(n.jsx)("button",{className:"clear-button",onClick:this.resetSearch,children:"Clear Search"}),Object(n.jsxs)("h3",{children:["Search Results: ",this.state.movieResults.length?this.state.movieResults.length:this.state.movies.length," Movies"]})]}),Object(n.jsx)("section",{className:"movies-container",children:e})]})}}]),s}(c.Component),b=(s(35),function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).state={movie:null,error:null},n}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.movieID,fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies/".concat(e)).then((function(e){return e.json()}))).then((function(e){return t.setState({movie:e.movie})})).catch((function(e){return t.setState({error:e.message})}))}},{key:"render",value:function(){var e=this.state.movie;return Object(n.jsx)("section",{className:"single-movie",children:e&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h2",{className:"title",children:e.title}),Object(n.jsx)("p",{children:Object(n.jsx)("em",{children:e.tagline})}),Object(n.jsx)("img",{className:"single-image",src:e.backdrop_path,alt:"single-movie"}),Object(n.jsx)("p",{children:e.overview}),Object(n.jsxs)("p",{children:["Average Rating: ",(10*e.average_rating).toFixed(0),"%"]}),Object(n.jsxs)("p",{children:["Genre: ",e.genres.join(", ")]}),Object(n.jsxs)("p",{children:["Revenue: $",(e.revenue/1e6).toFixed(2),"M"]}),Object(n.jsxs)("p",{children:["Runtime: ",e.runtime," mins"]}),Object(n.jsx)(r.b,{to:"/rancid-tomatillos",children:Object(n.jsx)("button",{className:"button-return",children:"Back to Home"})})]})})}}]),s}(c.Component)),v=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).state={error:""},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("main",{className:"App",children:[Object(n.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com"}),Object(n.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap",rel:"stylesheet"}),Object(n.jsx)("h1",{children:"Rancid Tomatillos"}),Object(n.jsxs)(j.c,{children:[Object(n.jsx)(j.a,{path:"/movies/:id",render:function(e){var t=e.match.params.id;return Object(n.jsx)(b,{movieID:t})}}),Object(n.jsx)(j.a,{exact:!0,path:"/rancid-tomatillos",render:function(){return Object(n.jsx)(m,{})}}),Object(n.jsx)(j.a,{render:function(){return Object(n.jsx)("h2",{children:"This page does not exist"})}})]})]})}}]),s}(c.Component),p=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,37)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;s(e),n(e),c(e),a(e),i(e)}))},O=Object(n.jsxs)(r.a,{children:[" ",Object(n.jsx)(v,{})," "]});i.a.render(O,document.getElementById("root")),p()}},[[36,1,2]]]);
//# sourceMappingURL=main.31000895.chunk.js.map